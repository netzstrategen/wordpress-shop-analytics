"use strict";!function(e){function a(){"order-received"===shop_analytics_endpoint_data.step&&t()}function t(){var a=e(document).find(".shop-analytics-order-details"),t=String(a.data("id")),i=JSON.parse(localStorage.getItem("shop-analytics-tracked-orders"));if(!i||!i.includes(orderNumber)){i.push(t,orderNumber),localStorage.setItem("shop-analytics-tracked-orders",JSON.stringify(i));var s=a.find(".shop-analytics-product-details"),n={event:"EECpurchase",ecommerce:{purchase:{actionField:{id:t,revenue:String(a.data("revenue")).replace(/,/g,""),tax:String(a.data("tax")).replace(/,/g,""),shipping:String(a.data("shipping")).replace(/,/g,"")},products:r.getProductsData(s)}}};r.postToDataLayer(n)}}var r=document.shopAnalytics;e(a)}(jQuery);
