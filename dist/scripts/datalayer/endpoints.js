"use strict";!function(t){function a(){"order-received"===shop_analytics_endpoint_data.step&&e()}function e(){var a=t(document).find(".shop-analytics-order-details"),e=String(a.data("id")),i=String(a.data("post_id")),s=JSON.parse(localStorage.getItem("shop-analytics-tracked-orders"));if(!s||!s.includes(e)&&!s.includes(i)){s.push(i,e),localStorage.setItem("shop-analytics-tracked-orders",JSON.stringify(s));var n=a.find(".shop-analytics-product-details"),c={event:"EECpurchase",ecommerce:{purchase:{actionField:{id:e,revenue:String(a.data("revenue")).replace(/,/g,""),tax:String(a.data("tax")).replace(/,/g,""),shipping:String(a.data("shipping")).replace(/,/g,"")},products:r.getProductsData(n)}}};r.postToDataLayer(c)}}var r=document.shopAnalytics;t(a)}(jQuery);
