"use strict";!function(e){function a(){"order-received"===shop_analytics_endpoint_data.step&&t()}function t(){var a=e(document).find(".shop-analytics-order-details"),t=String(a.data("order_number")),i=String(a.data("order_id")),n=JSON.parse(localStorage.getItem("shop-analytics-tracked-orders"));if(!n||!n.includes(t)&&!n.includes(i)){n.push(i,t),localStorage.setItem("shop-analytics-tracked-orders",JSON.stringify(n));var s=a.find(".shop-analytics-product-details"),c={event:"EECpurchase",ecommerce:{purchase:{actionField:{id:t,revenue:String(a.data("revenue")).replace(/,/g,""),tax:String(a.data("tax")).replace(/,/g,""),shipping:String(a.data("shipping")).replace(/,/g,"")},products:r.getProductsData(s)}}};r.postToDataLayer(c)}}var r=document.shopAnalytics;e(a)}(jQuery);
